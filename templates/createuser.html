<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create User</title>
    <link rel="stylesheet" href="/static/createuserstyles.css">
</head>
<body>
    <div class="form-container">
        <h2>Create User</h2>
        <form id="create-user-form" action="/api/user/create-user" method="post" onsubmit="return validateForm()">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required>
            <small id="username-error" class="error-message"></small>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>
            <small id="email-error" class="error-message"></small>

            <label for="password">Password:</label>
            <div class="password-container">
                <input type="password" id="password" name="password" required>
                <button type="button" id="toggle-password" onclick="togglePasswordVisibility()">üëÅÔ∏è</button>
            </div>
            <small id="password-error" class="error-message"></small>

            <label for="mobno">Mobile Number:</label>
            <input type="text" id="mobno" name="mobno" required>
            <small id="mobno-error" class="error-message"></small>

            <label for="is_active">Is Active:</label>
            <input type="checkbox" id="is_active" name="is_active" checked>

            <button type="submit">Create User</button>
        </form>
    </div>

    <script>
        // Password visibility toggle
        function togglePasswordVisibility() {
            const passwordInput = document.getElementById("password");
            const toggleBtn = document.getElementById("toggle-password");
            if (passwordInput.type === "password") {
                passwordInput.type = "text";
                toggleBtn.textContent = "üôà";
            } else {
                passwordInput.type = "password";
                toggleBtn.textContent = "üëÅÔ∏è";
            }
        }

        // Form validation
        function validateForm() {
            let isValid = true;

            const username = document.getElementById("username").value;
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            const mobno = document.getElementById("mobno").value;

            // Reset error messages
            document.getElementById("username-error").textContent = "";
            document.getElementById("email-error").textContent = "";
            document.getElementById("password-error").textContent = "";
            document.getElementById("mobno-error").textContent = "";

            // Username validation
            if (username.length < 3) {
                document.getElementById("username-error").textContent = "Username must be at least 3 characters.";
                isValid = false;
            }

            // Email validation (simple pattern)
            const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
            if (!emailPattern.test(email)) {
                document.getElementById("email-error").textContent = "Please enter a valid email.";
                isValid = false;
            }

            // Password validation
            if (password.length < 6) {
                document.getElementById("password-error").textContent = "Password must be at least 6 characters.";
                isValid = false;
            }

            // Mobile number validation (basic pattern)
            const mobnoPattern = /^[0-9]{10}$/;
            if (!mobnoPattern.test(mobno)) {
                document.getElementById("mobno-error").textContent = "Please enter a valid 10-digit mobile number.";
                isValid = false;
            }
            function validateForm() {
            // Your existing validation logic
            let isValid = true;

            // Show some feedback if validation passes
            if (isValid) {
                alert("User created successfully! Redirecting to login...");
            }

            
        }
        return isValid;
    }
    </script>
</body>
</html>